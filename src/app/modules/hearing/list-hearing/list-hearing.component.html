<main>
    <section class="">
        <div class="p-3">
            <h3 class="h3 text-start">Hearings</h3>

            <div class="d-flex justify-content-end gap-1">
                <!-- <button class="btn btn-sm btn-outline-primary" title="calendar" (click)="calendar()">
                    <i class="fas fa-calendar-alt"></i> Hearing Calendar
                </button> -->

                <a [routerLink]="['./add']" class="btn btn-sm btn-primary" title="add">
                    <i class="fas fa-plus"></i> Add New Hearing
                </a>
            </div>
        </div>
    </section>


    <ngx-datatable class="bootstrap table-striped shadow-sm p-3" [rows]="hearings" [columnMode]="'force'"
        [headerHeight]="50" [footerHeight]="50" [rowHeight]="50" [loadingIndicator]="isLoading" [limit]="10"
        style="border-radius: 8px; overflow: hidden;">

        <ngx-datatable-column name="Date" prop="date" [width]="150">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{ row.hearing.date | date:'dd/MM/yyyy' }}
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Location" prop="location" [width]="150">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{ row.hearing.location}}
            </ng-template>
        </ngx-datatable-column>


        <ngx-datatable-column name="Case Title">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{ row.case?.title || 'No case assigned' }}
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Actions" [canAutoResize]="false" [sortable]="false" [draggable]="false">
            <ng-template let-row="row" ngx-datatable-cell-template>
                <div class="d-flex justify-content-start gap-1">
                    <a [routerLink]="['./edit', row.hearing.id]" class="btn btn-sm btn-outline-warning" title="edit">
                        <i class="fas fa-edit"></i>
                    </a>
                    <button class="btn btn-sm btn-outline-danger" title="delete" (click)="deleteHearing(row.hearing.id)">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </div>
            </ng-template>
        </ngx-datatable-column>
    </ngx-datatable>
</main>