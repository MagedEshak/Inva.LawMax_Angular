<main>
    <section class="">
        <div class="p-3">
            <h3 class="h4 fw-bold text-dark">Lawyers Directory</h3>

            <div class="d-flex justify-content-end gap-1">
                <a [routerLink]="['./add']" class="btn btn-sm text-white"
                    style="background: linear-gradient(to right, #007bff, #0056b3)">
                    <i class="fas fa-user-plus me-1"></i> Add New Lawyer
                </a>

            </div>
        </div>
    </section>


    <ngx-datatable class="bootstrap table-striped shadow-sm p-3" [rows]="lawyers" [columnMode]="'force'"
        [headerHeight]="50" [footerHeight]="50" [rowHeight]="50" [loadingIndicator]="isLoading" [limit]="10"
        style="border-radius: 8px; overflow: hidden;">
        <ngx-datatable-column name="Name" [minWidth]="150">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{ row.lawyer.name?.length > 10 ? (row.lawyer.name | slice:0:10) + '...' : row.lawyer.name }}
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Email" [minWidth]="200">
            <ng-template let-row="row" ngx-datatable-cell-template>
                <span [title]="row.lawyer.email">
                    {{ row.lawyer.email?.length > 10 ? (row.lawyer.email | slice:0:10) + '...' : row.lawyer.email }}
                </span>
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Speciality" [minWidth]="150">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{ row.lawyer.speciality}}
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Phone" [minWidth]="150">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{ row.lawyer.phone}}
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Address" [minWidth]="200">
            <ng-template let-row="row" ngx-datatable-cell-template>
                <span [title]="row.lawyer.address">
                    {{ row.lawyer.address?.length > 10 ? (row.lawyer.address | slice:0:10) + '...' : row.lawyer.address
                    }}
                </span>
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Actions" [width]="250" [canAutoResize]="false" [sortable]="false"
            [draggable]="false">
            <ng-template let-row="row" ngx-datatable-cell-template [width]="250">
                <div class="d-flex justify-content-start gap-1">
                    <a [routerLink]="['./details',row.lawyer.id]" class="btn btn-sm btn-outline-secondary"
                        title="details">
                        <i class="fas fa-eye"></i>
                    </a>
                    <a [routerLink]="['./edit',row.lawyer.id]" class="btn btn-sm btn-outline-warning" title="edit">
                        <i class="fas fa-edit"></i>
                    </a>
                    <button class="btn btn-sm btn-outline-danger" title="delete" (click)="deleteLawyer(row.lawyer.id)">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                    <a [routerLink]="['./lawyerCalender',row.lawyer.id]" class="btn btn-sm btn-outline-primary"
                        title="calendar">
                        <i class="fas fa-calendar-alt"></i>
                    </a>
                </div>
            </ng-template>
        </ngx-datatable-column>
    </ngx-datatable>
</main>